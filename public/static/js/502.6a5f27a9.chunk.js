"use strict";(self.webpackChunksocial_network_app=self.webpackChunksocial_network_app||[]).push([[502],{1502:function(e,n,t){t.d(n,{G:function(){return O}});var s=t(4165),i=t(5861),r=t(9439),o=t(1363),a=t(1413),c=t(4942),l=t(9434),d=t(2791),u=t(184),m=function(e){var n=e.onSaveComment,t=(0,l.v9)((function(e){return e.userModule})).loggedInUser,m=t.imgUrl,f=t._id,h=(0,d.useState)(!0),p=(0,r.Z)(h,2),v=p[0],x=p[1],j=(0,d.useState)({txt:"",userId:f}),g=(0,r.Z)(j,2),N=g[0],k=g[1],I=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t,i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target,i=t.name,r="number"===t.type?+t.value||"":t.value,k((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,c.Z)({},i,r))}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsx)("section",{children:(0,u.jsxs)("form",{className:"input-comment",action:"",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"img-profile",children:(0,u.jsx)("img",{src:m,alt:"",className:"img"})}),(0,u.jsxs)("div",{className:"input-container",children:[(0,u.jsx)("input",{ref:function(e){e&&v&&e.focus(),x(!1)},type:"text",placeholder:"Add a Comment..",required:!0,onChange:I,id:"txt",name:"txt",value:N.txt}),(0,u.jsx)("span",{children:(0,u.jsx)(o.G,{className:"smile icon",icon:"fa-solid fa-face-smile"})}),(0,u.jsx)("span",{children:(0,u.jsx)(o.G,{className:"photo icon",icon:"fa-solid fa-image"})})]})]}),(0,u.jsx)("div",{className:"post-btn-container",children:N.txt&&(0,u.jsx)("button",{onClick:function(e){e.preventDefault(),n(N),k((function(){return{txt:"",userId:f}}))},children:"Post"})})]})})},f=t(262),h=t(8931),p=t(8874),v=t(6581),x=function(e){var n=e.toggleMenu,t=e.onRemoveComment,s=e.commentUserId,i=(0,d.useState)(!1),a=(0,r.Z)(i,2),c=a[0],m=a[1],f=(0,l.v9)((function(e){return e.userModule})).loggedInUser._id===s;return(0,u.jsxs)("section",{children:[(0,u.jsx)("div",{className:"bg-menu",onClick:function(e){e.stopPropagation(),n()}}),(0,u.jsxs)("section",{className:"comment-menu",children:[(0,u.jsx)("div",{className:"container",children:f&&(0,u.jsxs)("button",{className:"delete-container",onClick:function(){return m((function(e){return!e}))},children:[(0,u.jsx)(o.G,{className:"trash-icon",icon:"fa-solid fa-trash"}),(0,u.jsx)("p",{children:"Delete comment"})]})}),c&&(0,u.jsxs)("div",{className:"ask-again",children:[(0,u.jsx)("p",{children:"Are you sure?"}),(0,u.jsxs)("div",{className:"opts",children:[(0,u.jsx)("p",{className:"yes opt-btn",onClick:t,children:"yes"}),(0,u.jsx)("p",{className:"no opt-btn",onClick:function(){return m(!1)},children:"no"})]})]})]})]})},j=t(6923),g=function(e){var n,t=e.reply,c=e.updateReply,m=t.userId,f=(0,l.v9)((function(e){return e.userModule})).loggedInUser,h=(0,d.useState)(null),v=(0,r.Z)(h,2),x=v[0],g=v[1],N=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.W.getById(m);case 2:n=e.sent,g(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if((0,d.useEffect)((function(){N()}),[]),x){var k=(null===t||void 0===t?void 0:t.reactions.some((function(e){return f._id===e.userId})))?"liked":"";return(0,u.jsxs)("section",{className:"reply-preview",children:[(0,u.jsx)("div",{className:"img-profile-reply",children:(0,u.jsx)("img",{src:x.imgUrl,alt:"",className:"img"})}),(0,u.jsxs)("div",{className:"user-container",children:[(0,u.jsxs)("div",{className:"user-details",children:[(0,u.jsxs)("div",{className:"details-user-container",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:x.fullname}),(0,u.jsx)("p",{children:x.profession})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(j.Z,{date:t.createdAt}),(0,u.jsx)("span",{className:"logo-dots",children:(0,u.jsx)(o.G,{className:"dots-icon",icon:"fa-solid fa-ellipsis"})})]})]}),(0,u.jsx)("p",{className:"reply-txt",children:t.txt})]}),(0,u.jsxs)("div",{className:"reply-actions",children:[(0,u.jsx)("span",{children:(null===(n=t.reactions)||void 0===n?void 0:n.length)||""}),(0,u.jsx)("button",{className:"like "+k,onClick:function(){return function(){var e=(0,a.Z)({},t),n=e.reactions.some((function(e){return e.userId===f._id}));n?e.reactions=e.reactions.filter((function(e){return e.userId!==f._id})):n||e.reactions.push({userId:f._id,fullname:f.fullname,reaction:"like"}),c(e)}()},children:"Like"})]})]})]})}},N=function(e){var n=e.replies,t=e.updateReply;return(0,u.jsx)("section",{className:"reply-list",children:n.map((function(e){return(0,u.jsx)(g,{reply:e,updateReply:t},e._id)}))})},k=function(e){var n,t,m,g=e.comment,k=e.onSaveComment,I=(0,l.I0)(),y=(0,h.k6)(),Z=g.userId,b=g.createdAt,C=g.postId,S=g.reactions,w=g.replies,_=(0,d.useState)(null),U=(0,r.Z)(_,2),M=U[0],P=U[1],T=(0,d.useState)(!1),G=(0,r.Z)(T,2),O=G[0],R=G[1],A=(0,d.useState)(!1),B=(0,r.Z)(A,2),L=B[0],D=B[1],E=(0,d.useState)(!1),J=(0,r.Z)(E,2),W=J[0],Y=J[1],F=(0,d.useState)(!0),q=(0,r.Z)(F,2),H=q[0],z=q[1],K=(0,d.useState)({txt:""}),Q=(0,r.Z)(K,2),V=Q[0],X=Q[1],$=(0,l.v9)((function(e){return e.userModule})).loggedInUser,ee=function(){Y((function(e){return!e}))},ne=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.W.getById(n);case 4:t=e.sent,P(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),te=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t,i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.target,i=t.name,r="number"===t.type?+t.value||"":t.value,X((0,c.Z)({},i,r));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if((0,d.useEffect)((function(){ne(Z)}),[]),M){var se=(null===g||void 0===g?void 0:g.reactions.some((function(e){return $._id===e.userId})))?"liked":"",ie=M.profession,re=M.imgUrl;return g?(0,u.jsxs)("section",{className:"comment-preview",children:[(0,u.jsx)("div",{className:"img-container",onClick:function(){return y.push("/main/profile/".concat(null===M||void 0===M?void 0:M._id))},children:(0,u.jsx)("img",{src:re,alt:"",className:"img-profile"})}),(0,u.jsxs)("div",{className:"container",children:[(0,u.jsxs)("div",{className:"comment-header",children:[(0,u.jsxs)("div",{className:"comment-details",children:[(0,u.jsxs)("div",{className:"name",children:[(0,u.jsx)("h3",{children:M.fullname}),(0,u.jsx)("p",{children:ie})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("span",{children:(0,u.jsx)(j.Z,{date:b})}),(0,u.jsx)(o.G,{onClick:ee,className:"dots-icon",icon:"fa-solid fa-ellipsis"})]})]}),(0,u.jsx)("div",{className:"comment-text",children:(0,u.jsx)("p",{children:g.txt})})]}),(0,u.jsxs)("div",{className:"comment-action",children:[(0,u.jsx)("span",{children:(null===S||void 0===S?void 0:S.length)||""}),(0,u.jsx)("button",{className:"like "+se,onClick:function(){var e=(0,a.Z)({},g),n=e.reactions.some((function(e){return e.userId===$._id}));n?e.reactions=e.reactions.filter((function(e){return e.userId!==$._id})):n||e.reactions.push({userId:$._id,fullname:$.fullname,reaction:"like"}),k(e)},children:"Like"}),"|",(0,u.jsx)("button",{onClick:function(){return R((function(e){return!e}))},children:"Reply"}),"|",null!==(n=g.replies)&&void 0!==n&&n.length?(0,u.jsx)("button",{onClick:function(){return D((function(e){return!e}))},children:L&&L?"Hide ".concat(null===(t=g.replies)||void 0===t?void 0:t.length," replies"):"Show ".concat(null===(m=g.replies)||void 0===m?void 0:m.length," replies")}):""]}),O&&(0,u.jsxs)("div",{className:"input-reply",children:[(0,u.jsx)("div",{className:"img-loggedUser",children:(0,u.jsx)("img",{src:$.imgUrl,alt:"",className:"img"})}),(0,u.jsx)("div",{className:"input-container",children:(0,u.jsx)("input",{ref:function(e){e&&H&&e.focus(),z(!1)},type:"text",placeholder:"Add a reply...",onChange:te,id:"txt",name:"txt",value:V.txt})})]}),V.txt&&(0,u.jsx)("button",{className:"reply-btn",onClick:function(){return function(){if(""!==V.txt&&V.txt){var e=(0,a.Z)({},g);D(!0);var n={_id:v.Y.makeId(24),userId:$._id,postId:C,commentId:g._id,txt:V.txt,reactions:[],createdAt:(new Date).getTime()};e.replies.unshift(n),k(e),X({txt:""})}}()},children:"Reply"}),L&&(0,u.jsx)(N,{replies:w,updateReply:function(e){var n=(0,a.Z)({},g),t=n.replies.findIndex((function(n){return n._id===e._id}));n.replies[t]=e,k(n)}}),W&&(0,u.jsx)(x,{toggleMenu:ee,onRemoveComment:function(){I((0,f.PN)(g))},commentUserId:g.userId})]})]}):(0,u.jsx)("div",{children:"Loading"})}},I=function(e){var n=e.comments,t=e.onSaveComment;return n?(0,u.jsx)("section",{className:"list-comments",children:n.map((function(e){return(0,u.jsx)(k,{comment:e,onSaveComment:t},e._id)}))}):(0,u.jsx)("section",{className:"list-comments",children:"Loading.."})},y=t(6695),Z=function(e){var n=e.postId,t=e.comments,r=e.userPostId,o=(0,l.I0)(),c=(0,l.v9)((function(e){return e.userModule})).loggedInUser,d=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,a.Z)((0,a.Z)({},t),{},{postId:n}),o((0,f.Gc)(i)).then((function(e){if(e){var n={type:i._id?"update-comment":"add-comment",description:"",createdBy:c._id,createdTo:r,commentId:e._id,postId:e.postId};o((0,y.d_)(n))}return e}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return t?(0,u.jsxs)("section",{className:"comments",children:[(0,u.jsx)(m,{onSaveComment:d}),(0,u.jsx)(I,{postId:n,comments:t,onSaveComment:d})]}):(0,u.jsx)("div",{children:"Loading"})},b=function(e){var n,t=e.post,s=e.onToggleShowComment,i=e.onLikePost,r=e.onSharePost,a=e.loggedInUser,c=(0,h.k6)(),l=(null===t||void 0===t||null===(n=t.reactions)||void 0===n?void 0:n.some((function(e){return a&&a._id&&(null===a||void 0===a?void 0:a._id)===e.userId})))?"liked":"";return(0,u.jsxs)("section",{className:"post-actions",children:[(0,u.jsxs)("button",{className:"like "+l,onClick:i,children:[(0,u.jsx)(o.G,{className:"like-icon icon",icon:"fa-solid fa-thumbs-up"}),(0,u.jsx)("span",{children:"Like"})]}),(0,u.jsxs)("button",{className:"comment",onClick:s,children:[(0,u.jsx)(o.G,{className:"comment-icon icon",icon:"fa-solid fa-comment"}),(0,u.jsx)("span",{children:"Comment"})]}),(0,u.jsxs)("button",{className:"share",onClick:function(){return r()},children:[(0,u.jsx)(o.G,{className:"share-icon icon",icon:"fa-solid fa-share"}),(0,u.jsx)("span",{children:"Share"})]}),(0,u.jsxs)("button",{className:"send",onClick:function(){return c.push("/main/message/".concat(t.userId))},children:[(0,u.jsx)(o.G,{className:"send-icon icon",icon:"fa-solid fa-paper-plane"}),(0,u.jsx)("span",{children:"Send"})]})]})};function C(e){var n=e.body,t=e.imgUrl,s=e.videoUrl,i=e.toggleShowImgPreview,r=e.link,o=e.title;return(0,u.jsxs)("section",{className:"post-body",children:[(0,u.jsx)("div",{className:"title",children:(0,u.jsx)("h1",{children:o})}),(0,u.jsx)("div",{className:"post-text",children:(0,u.jsx)("p",{children:n})}),(0,u.jsx)("div",{className:"link",children:r&&(0,u.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:(0,u.jsx)("span",{className:"the-link",children:r})})}),(0,u.jsx)("div",{className:"img-container",onClick:i,children:t&&(0,u.jsx)("img",{src:t,alt:""})}),(0,u.jsx)("div",{className:"video-container",children:s&&(0,u.jsx)("video",{width:"100%",height:"300",controls:!0,children:(0,u.jsx)("source",{src:s,type:"video/mp4"})})})]})}var S=t(1523),w=t(5478),_=function(e){var n,t,s=e.post,i=e.userPost,r=(0,h.k6)();if(!i)return(0,u.jsx)("section",{className:"post-header",children:(0,u.jsx)("img",{className:"loading-circle",src:w,alt:""})});" /main/post/".concat(s.userId,"/").concat(s._id);var a=i.imgUrl,c=i.profession,l=i.fullname;return(0,u.jsxs)("section",{className:"post-header",children:[(0,u.jsx)("div",{className:"img-actor",onClick:function(){return r.push("/main/profile/".concat(null===i||void 0===i?void 0:i._id))},children:(0,u.jsx)("img",{src:a,className:"img"})}),(0,u.jsxs)("div",{className:"details",children:[(0,u.jsx)(S.rU,{to:"/main/profile/".concat(null===i||void 0===i?void 0:i._id),children:(0,u.jsx)("div",{className:"name",children:(0,u.jsx)("h3",{children:l})})}),(0,u.jsxs)("div",{className:"time-and-description-container",onClick:function(){return r.push("/main/post/".concat(s.userId,"/").concat(s._id))},children:[(0,u.jsx)("div",{className:"description",children:(0,u.jsx)("p",{children:c})}),(0,u.jsxs)("div",{className:"time",children:[(0,u.jsx)("span",{children:(0,u.jsx)(j.Z,{date:s.createdAt})})," ",(null===s||void 0===s||null===(n=s.position)||void 0===n?void 0:n.lat)&&(null===s||void 0===s||null===(t=s.position)||void 0===t?void 0:t.lng)&&(0,u.jsx)("span",{className:"logo-location",children:(0,u.jsx)(o.G,{icon:"fa-solid fa-location-dot"})})]})]})]})]})};function U(e){var n=e.reaction,t=(0,d.useState)(null),o=(0,r.Z)(t,2),a=o[0],c=o[1],l=(0,h.k6)(),m=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.W.getById(t);case 4:i=e.sent,c((function(){return i}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();if((0,d.useEffect)((function(){m(n.userId)}),[]),a)return(0,u.jsxs)("section",{className:"like-preview",children:[(0,u.jsxs)("div",{className:"container-name",onClick:function(){return l.push("/main/profile/".concat(a._id))},children:[(0,u.jsx)("div",{className:"img-container",children:(0,u.jsx)("img",{src:a.imgUrl,alt:"",className:"img"})}),(0,u.jsxs)("div",{className:"fullname",children:[(0,u.jsx)("p",{children:a.fullname}),(0,u.jsx)("p",{children:a.profession})]})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"Connect"})})]})}function M(e){var n=e.reactions,t=e.toggleLikes;return(0,u.jsxs)("section",{className:"like-list",children:[(0,u.jsxs)("div",{className:"title",children:[(0,u.jsx)("h2",{children:"Reactions:"}),(0,u.jsx)(o.G,{onClick:function(){return t()},className:"logo-close",icon:"fa-solid fa-x"})]}),(0,u.jsx)("div",{children:(0,u.jsx)("div",{className:"all",children:(0,u.jsxs)("p",{children:["All ",null===n||void 0===n?void 0:n.length]})})}),(0,u.jsx)("div",{className:"list",children:n.map((function(e){return(0,u.jsx)(U,{reaction:e},v.Y.makeId())}))})]})}function P(e){var n,t,s,i=e.comments,o=e.shares,a=e.post,c=e.onToggleShowComment,l=(0,d.useState)(!1),m=(0,r.Z)(l,2),f=m[0],h=m[1],p=function(){h((function(e){return!e}))};if(i)return(0,u.jsxs)("section",{className:"social-details",children:[(0,u.jsx)("div",{className:"likes-count",children:(0,u.jsx)("span",{onClick:p,children:null!==(n=a.reactions)&&void 0!==n&&n.length?(null===(t=a.reactions)||void 0===t?void 0:t.length)>1?(null===(s=a.reactions)||void 0===s?void 0:s.length)+" likes":"1 like":""})}),(0,u.jsxs)("div",{className:"share-comment",children:[(0,u.jsx)("div",{className:"comment-count",onClick:c,children:(0,u.jsx)("p",{children:null!==i&&void 0!==i&&i.length?(null===i||void 0===i?void 0:i.length)>1?(null===i||void 0===i?void 0:i.length)+" comments":"1 comment":""})}),(0,u.jsx)("div",{className:"share-count",children:(0,u.jsx)("p",{children:null!==o&&void 0!==o&&o.length?(null===o||void 0===o?void 0:o.length)>1?(null===o||void 0===o?void 0:o.length)+" shares":"1 share":""})})]}),f&&(0,u.jsx)("div",{className:"likes-container",onClick:function(e){e.stopPropagation(),p()},children:(0,u.jsx)("div",{className:"likes",onClick:function(e){e.stopPropagation()},children:(0,u.jsx)(M,{reactions:a.reactions,toggleLikes:p})})})]})}var T=function(e){var n=e.toggleMenu,t=e.onRemovePost,s=e.postUserId,i=e.copyToClipBoard,a=(0,l.v9)((function(e){return e.userModule})).loggedInUser,c=(0,d.useState)(!1),m=(0,r.Z)(c,2),f=m[0],h=m[1],p=a._id===s;return(0,u.jsxs)("section",{children:[(0,u.jsx)("div",{className:"bg-menu",onClick:function(e){e.stopPropagation(),n()}}),(0,u.jsxs)("section",{className:"post-menu",children:[p&&(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("button",{className:"delete-container ",onClick:function(){return h((function(e){return!e}))},children:[(0,u.jsx)(o.G,{className:"trash-icon",icon:"fa-solid fa-trash"}),(0,u.jsx)("p",{children:"Delete post"})]})}),f&&(0,u.jsxs)("div",{className:"ask-again",children:[(0,u.jsx)("p",{children:"Are you sure?"}),(0,u.jsxs)("div",{className:"opts",children:[(0,u.jsx)("p",{className:"yes opt-btn",onClick:t,children:"yes"}),(0,u.jsx)("p",{className:"no opt-btn",onClick:function(){return h(!1)},children:"no"})]})]}),(0,u.jsx)("div",{className:"copy-to-clip-board",children:(0,u.jsxs)("button",{onClick:function(e){e.stopPropagation(),n(),i()},children:[(0,u.jsx)(o.G,{icon:"fa-solid fa-copy"}),(0,u.jsx)("p",{children:"Copy link to post"})]})})]})]})},G=t(9334),O=function(e){var n=e.post,t=(0,l.I0)(),a=(0,h.UO)(),c=(0,d.useState)(null),m=(0,r.Z)(c,2),v=m[0],x=m[1],j=(0,d.useState)(!1),g=(0,r.Z)(j,2),N=g[0],k=g[1],I=(0,d.useState)(!1),S=(0,r.Z)(I,2),w=S[0],U=S[1],M=(0,d.useState)(!1),O=(0,r.Z)(M,2),R=O[0],A=O[1],B=(0,l.v9)((function(e){return e.userModule})).loggedInUser;(0,d.useEffect)((function(){E(n.userId),a.postId&&k(!0)}),[B]);var L=function(){U((function(e){return!e}))},D=function(){A((function(e){return!e}))},E=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.W.getById(t);case 4:i=e.sent,x((function(){return i}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(){k((function(e){return!e}))},W=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Post",text:"a post from Travelsdin",url:"/main/post/".concat(n.userId,"/").concat(n._id)},e.prev=1,e.next=4,navigator.share(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error: ".concat(e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return(0,u.jsxs)("section",{className:"post-preview",children:[(0,u.jsx)("div",{className:"menu",onClick:L,children:(0,u.jsx)(o.G,{className:"dots-icon",icon:"fa-solid fa-ellipsis"})}),(0,u.jsx)(_,{post:n,userPost:v}),(0,u.jsx)(C,{body:n.body,imgUrl:n.imgBodyUrl,videoUrl:n.videoBodyUrl,link:n.link,title:n.title,toggleShowImgPreview:D}),(0,u.jsx)(P,{comments:n.comments,post:n,onToggleShowComment:J}),(0,u.jsx)("hr",{}),(0,u.jsx)(b,{post:n,onToggleShowComment:J,onLikePost:function(){var e=n.reactions.some((function(e){return e.userId===B._id}));e?n.reactions=n.reactions.filter((function(e){return e.userId!==B._id})):e||n.reactions.push({userId:B._id,fullname:B.fullname,reaction:"like"}),t((0,f.TJ)(n)).then((function(s){if((null===s||void 0===s?void 0:s._id)===n._id){var i={type:e?"remove-like":"add-like",createdBy:B._id,createdTo:n.userId,postId:n._id};t((0,y.d_)(i))}}))},loggedInUser:B,onSharePost:W}),N&&(0,u.jsx)(Z,{comments:n.comments,postId:n._id,userPostId:n.userId}),w&&(0,u.jsx)(T,{toggleMenu:L,onRemovePost:function(){t((0,f.M8)(n._id))},postUserId:n.userId,copyToClipBoard:function(){var e="https://travelsdin-express-production.up.railway.app/#/main/post/".concat(n.userId,"/").concat(n._id);navigator.clipboard.writeText(e)}}),R&&(0,u.jsx)(G.O,{toggleShowImg:D,imgUrl:n.imgBodyUrl,title:"Image"})]})}},9334:function(e,n,t){t.d(n,{O:function(){return u}});var s=t(4165),i=t(5861),r=t(9439),o=t(2791),a=t(1363),c=t(8931),l=t(8874),d=t(184);function u(e){var n=e.toggleShowImg,t=e.imgUrl,u=e.videoUrl,m=e.title,f=e.post,h=e.body,p=(0,c.k6)(),v=(0,o.useState)(null),x=(0,r.Z)(v,2),j=x[0],g=x[1],N=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.W.getById(n);case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){null!==f&&void 0!==f&&f.userId&&N(f.userId)}),[]),(0,d.jsxs)("div",{className:"img-profile-preview",children:[(0,d.jsx)("div",{className:"bg",onClick:n}),(0,d.jsxs)("section",{className:"container",children:[(0,d.jsxs)("div",{className:"title",children:[j&&f&&(0,d.jsxs)("div",{className:"user-details",onClick:function(){return p.push("/main/profile/".concat(f.userId))},children:[(0,d.jsx)("img",{src:j.imgUrl,alt:"",className:"img"}),(0,d.jsx)("p",{className:"fullname",children:j.fullname})]})||f&&(0,d.jsx)("p",{className:"user-details",children:"Loading user..."}),(0,d.jsx)("p",{children:m}),(0,d.jsx)("span",{className:"logo-close",onClick:n,children:(0,d.jsx)(a.G,{icon:"fa-solid fa-x"})})]}),h&&(0,d.jsx)("div",{children:(0,d.jsx)("p",{className:"body",children:h})}),f&&(0,d.jsx)("div",{className:"see-post",children:(0,d.jsx)("p",{onClick:function(){return p.push("/main/post/".concat(f.userId,"/").concat(f._id))},children:"See original post"})}),(0,d.jsx)("div",{className:"img-container",children:t&&(0,d.jsx)("img",{className:"img",src:t,alt:""})||u&&(0,d.jsx)("div",{children:(0,d.jsx)("video",{width:"100%",height:"300",controls:!0,children:(0,d.jsx)("source",{src:u,type:"video/mp4"})})})})]})]})}},6581:function(e,n,t){t.d(n,{Y:function(){return s}});var s={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},debounce:function(e,n){var t;return function(){for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];var o=function(){clearTimeout(t),e.apply(void 0,i)};clearTimeout(t),t=setTimeout(o,n)}},getRandomInt:i,getRandomColor:function(){for(var e="#",n=0;n<6;n++)e+=Math.floor(10*Math.random());return e},getLoremIpsum:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=["The sky","above","the port","was","the color of television","tuned","to","a dead channel",".","All","this happened","more or less",".","I","had","the story","bit by bit","from various people","and","as generally","happens","in such cases","each time","it","was","a different story",".","It","was","a pleasure","to","burn"],t="";for(;e>0;)t+=n[i(0,n.length-1)]+" ",e--;return(t+=".").trim()},loadFromStorage:function(e){var n=localStorage.getItem(e);return n?JSON.parse(n):null},saveToStorage:function(e,n){localStorage[e]=JSON.stringify(n)},loadFromSessionStorage:function(e){var n=sessionStorage.getItem(e);return n?JSON.parse(n):null},saveToSessionStorage:function(e,n){sessionStorage[e]=JSON.stringify(n)},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(n){setTimeout(n,e)}))}};function i(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}},6923:function(e,n,t){t.d(n,{Z:function(){return k}});var s=t(1413),i=t(9439),r=t(5987),o=t(2791),a=t(3433),c=t(3878),l=t(9199),d=t(181),u=t(5267);function m(e){var n=new Date(e);if(!Number.isNaN(n.valueOf()))return n;var t=String(e).match(/\d+/g);if(null==t||t.length<=2)return n;var s,i=t.map((function(e){return parseInt(e)})),r=(s=i,(0,c.Z)(s)||(0,l.Z)(s)||(0,d.Z)(s)||(0,u.Z)()),o=r[0],m=r[1],f=r.slice(2),h=[o,m-1].concat((0,a.Z)(f));return new Date(Date.UTC.apply(Date,(0,a.Z)(h)))}function f(e,n,t){return e+" "+(1!==e?n+"s":n)+" "+t}var h=["date","formatter","component","live","minPeriod","maxPeriod","title","now"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},p.apply(this,arguments)}var v=3600,x=86400,j=7*x,g=30*x,N=365*x;function k(e){var n=e.date,t=e.formatter,a=void 0===t?f:t,c=e.component,l=void 0===c?"time":c,d=e.live,u=void 0===d||d,k=e.minPeriod,I=void 0===k?0:k,y=e.maxPeriod,Z=void 0===y?j:y,b=e.title,C=e.now,S=void 0===C?function(){return Date.now()}:C,w=(0,r.Z)(e,h),_=(0,o.useState)(S()),U=(0,i.Z)(_,2),M=U[0],P=U[1];(0,o.useEffect)((function(){if(u){var e=function(){var e=m(n).valueOf();if(!e)return console.warn("[react-timeago] Invalid Date provided"),0;var t=Math.round(Math.abs(M-e)/1e3),s=t<60?1e3:t<v?6e4:t<x?36e5:6048e5,i=Math.min(Math.max(s,1e3*I),1e3*Z);return i?setTimeout((function(){P(S())}),i):0}();return function(){e&&clearTimeout(e)}}}),[n,u,Z,I,S,M]);var T=l,G=m(n).valueOf();if(!G)return null;var O=Math.round(Math.abs(M-G)/1e3),R=G<M?"ago":"from now",A=O<60?[Math.round(O),"second"]:O<v?[Math.round(O/60),"minute"]:O<x?[Math.round(O/v),"hour"]:O<j?[Math.round(O/x),"day"]:O<g?[Math.round(O/j),"week"]:O<N?[Math.round(O/g),"month"]:[Math.round(O/N),"year"],B=(0,i.Z)(A,2),L=B[0],D=B[1],E="undefined"===typeof b?"string"===typeof n?n:m(n).toISOString().substr(0,16).replace("T"," "):b,J="time"===T?(0,s.Z)((0,s.Z)({},w),{},{dateTime:m(n).toISOString()}):w,W=f.bind(null,L,D,R);return o.createElement(T,p({},J,{title:E}),a(L,D,R,G,W,S))}},5478:function(e,n,t){e.exports=t.p+"static/media/loading-circle.b8e847dbc0e0c5799a06.gif"}}]);
//# sourceMappingURL=502.6a5f27a9.chunk.js.map